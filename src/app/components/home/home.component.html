<div style="margin: 0; border: 0; padding:0; width:100%">

  <!-- graph selection, table controls, help panel -->
  <div class="row row1" style="height:315px; margin-bottom: 10px">
    <!-- Graph selection -->
    <div class="col-sm-3 panel" style="min-width: 300px">
      <!-- title -->
      <div class="row header">
        <p class="panel-title"> Graph Selection </p>
      </div>

      <form #formElement="ngForm" (ngSubmit)="plotGraphNavigation()">

        <!--Radio Buttons--------------------------------------------------------------------------------->
        <div class="row justify-content-center">
          <div class="col-4">
            <div class="row justify-content-center"><p class="tight-fit"> Line </p></div>
            <div class="row justify-content-center">
              <label>
                <input type="radio" checked="checked" name="graph" value="line_graph" [(ngModel)]="graph"
                       (change)="checkboxSelect($event)">
              </label>
            </div>
          </div>
          <!--        <div class="row justify-content-center">-->
          <div class="col-4 ">
            <div class="row justify-content-center"><p class="tight-fit">Scatter</p></div>
            <div class="row justify-content-center">
              <label>
                <input type="radio" checked="checked" name="graph" value="scatter_graph" [(ngModel)]="graph"
                       (change)="checkboxSelect($event)">
              </label>
            </div>
          </div>

          <div class="col-4">
            <div class="row justify-content-center"><p class="tight-fit">Histogram</p></div>
            <div class="row justify-content-center">
              <label>
                <input type="radio" checked="checked" name="graph" value="histogram" [(ngModel)]="graph"
                       (change)="checkboxSelect($event)">
              </label>
            </div>
          </div>
        </div>
        <!------------------------------------------------------------------------------------------------>

        <!-- Line graph-------------------------------->
        <div style="padding-left:0;" *ngIf="show === 0">

          <!-- Y select -->
          <div class="row">
            <div class="col-2 tight-fit" style="min-width: 50px; text-align: right; ">
              <p class="tight-fit">Y:</p>
            </div>

            <div class="col-9 expand-horizontal" style="margin-left: 5px;">
              <label>
                <select name="ySpinner" [(ngModel)]="temp1" (change)="ySelector($event)">
                  <option *ngFor="let column of lineListY" value="{{column.identifier}}">{{column.name}}</option>
                </select>
              </label>

              <div class="list-box selectable">
                <div class="row" *ngFor="let selector of ySelectorListLine let i= index"
                     (click)="removeFromListLine($event)" style="margin:0">
                  <p class="col-11 list">{{selector.name}}</p>
                  <p id="{{i}}" class="col-1 align-self-end list"
                     style="padding:0; margin:0; background-color: rgba(150,150,150,100); border: 1px solid black;">
                    x</p>
                </div>
              </div>
            </div>

          </div>

          <!-- X select -->
          <div class="row label-row">
            <div class="col-2 expand-horizontal" style="min-width: 50px; text-align: center;">
              <p class="tight-fit">Time <br> Series:</p>
            </div>
            <div class="col-9 expand-horizontal" style="margin-left: 5px;">

              <select name="timeSeriesLine" [(ngModel)]="temp2" (change)="timeSeriesLineY($event)">
                <option *ngFor="let row of timeSeriesY" value="{{row.identifier}}">{{row.name}}</option>
              </select>
              <div class="list-box">
                <p class="list single" *ngFor="let selector of timeSeriesSelectList">{{selector.name}}</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Scatter graph----------------------------->
        <div style="padding-left:0;" *ngIf="show === 1">
          <div class="row">
            <div class="col-1">
              <p class="tight-fit">Y:</p>
            </div>
            <div class="col-10">
              <select name="ySpinner" [(ngModel)]="temp4" (click)="scatterSelector($event)">
                <option *ngFor="let column of scatterList" value="{{column.identifier}}">{{column.name}}</option>
              </select>
              <div class="list-box">
                <p class="list" *ngFor="let selector of ySelectorListScatter"
                   title="ySelectorListScatter">{{selector.name}}</p>
              </div>
            </div>
          </div>

          <!-- X selection -->
          <div class="row">
            <div class="col-1">
              <p class="tight-fit">X:</p>
            </div>
            <div class="col-10">
              <select name="xSpinner" [(ngModel)]="temp3" (click)="scatterSelector($event)">
                <option *ngFor="let column of scatterList" value="{{column.identifier}}">{{column.name}}</option>
              </select>
              <div class="list-box">
                <p class="list" *ngFor="let selector of xSelectorListScatter"
                   title="xSelectorListScatter">{{selector.name}}</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Histogram -------------------------------->
        <div style="padding-left:0;" *ngIf="show === 2">
          <div class="row justify-content-center">
            <p class=" panel-title header tight-fit">Histogram Type Selection</p>
          </div>

          <!-- bin type radio -->
          <div class="row justify-content-center" style="margin: auto; border: 1px solid black">
            <!-- stdev radio -->
            <div class="col-6 ">
              <div class="row justify-content-center">
                <p class="tight-fit">Stdev</p>
              </div>

              <div class="row justify-content-center" style="max-height: 25px;">
                <label> &nbsp;
                  <input type="radio"  name="bin" value="stdev" style="transform: scale(1)"
                          (change)="checkboxSelectHistogram($event)">
                </label>
              </div>

            </div>

            <!-- # radio -->
            <div class="col-6 ">
              <div class="row justify-content-center">
                <p class="tight-fit">Number</p>
              </div>
              <div class="row justify-content-center" style="max-height: 25px;">
                <label>
                  <input type="radio" name="bin" value="numBins" style="transform: scale(1)"
                         (change)="checkboxSelectHistogram($event)">
                </label>
              </div>
            </div>
          </div>
          <!--histogram column selector-->
          <div class="row" >
            <div class="col-2"></div>
            <div class="col-2">
              <p class="tight-fit">Data:</p>
            </div>
            <div class="col">
              <select name="histogramDataSelector" [(ngModel)]="temp1" (click)="columnSelectorEventHistogram($event)"
                      style="max-width: 175px">
                <option *ngFor="let column of dataListHistogram" value="{{column.identifier}}">{{column.name}}</option>
              </select>
              <div class="col-2"></div>
            </div>
          </div>

          <div class="row justify-content-center">
            <div class="list-box" style="width:80%;">
                <p class="list" style="overflow: hidden" *ngFor="let selector of columnSelectorListHistogram">{{selector.name}}</p>
            </div>
          </div>
          <div *ngIf="binType==1" class="row justify-content-center">
            <input type="text" style="text-align: center" (change)="numberBin($event)" name="numBin" placeholder="Number of bins">
          </div>

          <div>
          </div>
        </div>
        <!--Button-------------------------------------------------------------------->
        <div class="row">
          <button class="btn" type="submit" style="margin:auto; z-index:10;">Show</button>
        </div>
      </form>
    </div>

    <!-- Table formating -->
    <div class="col-sm-5 panel col2" style="min-height: 300px;   height:100%;">
      <!-- labels and nav tabs -->
      <div>
        <!--Label and Import Button ------------------------------------------------------------------------------->
        <div class="row justify-content-between header" style="height:50%; min-height:40px;">
          <span class="col panel-title" style="width:100%">Import Section</span>
          <button class="btn col " style="height:100%; max-width: 100px;" (click)="onImport()">Import
          </button>
          <br>
        </div>

        <!-- tabs -->
        <div class="row " style="margin-left: 2%; margin-right: 2%; width:96%;">
          <ul class="scrolling-wrapper-flexbox tight-fit">
            <li class="nav-item" *ngFor="let tab of tabs">

              <div class="nav-link" (click)="changeDisplayTable(tab.tabId)"
                   [ngStyle]="{'background-color' :activeTab === tab.tabId ? 'rgba(0,0,255,.75)': 'rgba(0,0,255,.5)',
                                'border-width'    :activeTab === tab.tabId ? '3px': '2px',
                                'width'           : getTabWidth(tab) }">
                <!--tab.name.length * 12 + 10 + 'px' }">-->
                <span id={{tab.tabId}} style="margin: 10px 5px;">{{tab.name}}</span>
                <button (click)="removeFile($event, tab.id, tab.tabId)"
                        style="padding-top: 0; margin-top:0; float: right; font-size: 10px; ">x
                </button>

              </div>
            </li>
          </ul>
        </div>
      </div>

      <div class="table-display">
        <router-outlet></router-outlet>
        <!--[style.max-width] = getTableWidth()-->
      </div>

    </div>

    <!--    Averages panel -->
    <div class="col-3 panel " style="width:100%;">
      <p class="header"> Averages </p>
      <!-- day averages -->
      <div class="row">
        <!-- xmax - ymax -->
        <div class="col-5">
          <p class="tight-fit" style="text-align: center">Plot Limits:</p>
          <!--<div *ngIf="globalYAverage!==undefined && globalYAverage.length >"-->
          <div style="overflow: auto; max-height: 135px;">
            <ul class="tight-fit">
              <!-- Xmin for scatter/histogram-->
              <li class="row tight-fit" *ngIf="show" style="border: 1px solid black">
                <div class="col-6" style="border-right: 1px solid black;">
                  <p class="tight-fit">xMin</p>
                </div>
                <div class="col-6">
                  <p class="tight-fit">"number:'1.0-2'"</p>
                </div>
              </li>

              <!-- Xmax for scatter/histogram-->
              <li class="row tight-fit" *ngIf="show" style="border: 1px solid black">
                <div class="col-6" style="border-right: 1px solid black;">
                  <p class="tight-fit">xMax</p>
                </div>
                <div class="col-6">
                  <p class="tight-fit">"number:'1.0-2'"</p>
                </div>
              </li>

              <!-- Start for linegraph-->
              <li class="row tight-fit" *ngIf="!show" style="border: 1px solid black">
                <div class="col-6 tight-fit" style="border-right: 1px solid black;">
                  <p class="tight-fit" style="text-align: center">Start Time</p>
                </div>
                <div class="col-6 tight-fit">
                  <p class="tight-fit">"DATE:TIME"</p>
                </div>
              </li>

              <!-- End for linegraph-->
              <li class="row tight-fit" *ngIf="!show" style="border: 1px solid black">
                <div class="col-6 tight-fit" style="border-right: 1px solid black;">
                  <p class="tight-fit">End Time</p>
                </div>
                <div class="col-6 tight-fit">
                  <p class="tight-fit">"DATE:TIME"</p>
                </div>
              </li>

              <!-- Ymin -->
              <li class="row tight-fit" style="border: 1px solid black">
                <div class="col-6" style="border-right: 1px solid black;">
                  <p class="tight-fit">Ymin</p>
                </div>
                <div class="col-6">
                  <p class="tight-fit">"number:'1.0-2'"</p>
                </div>
              </li>

              <!-- Ymax -->
              <li class="row tight-fit" style="border: 1px solid black">
                <div class="col-6" style="border-right: 1px solid black;">
                  <p class="tight-fit">YMax</p>
                </div>
                <div class="col-6">
                  <p class="tight-fit">"number:'1.0-2'"</p>
                </div>
              </li>
            </ul>
          </div>
        </div>

        <!-- grab averages for each line on graph -->
        <div class="col-6" *ngIf="!show">
          <p class="tight-fit" style="text-align: center">Line Averages:</p>
          <div style="overflow: auto; max-height: 135px;">
            <ul class="tight-fit">
              <li class="row tight-fit" *ngFor="let line of show" style="border: 1px solid black">
                <div class="col-6" style="border-right: 1px solid black;">
                  <p class="tight-fit">line.name</p>
                </div>
                <div class="col-6">
                  <p class="tight-fit">"number:'1.0-2'"</p>
                </div>
              </li>
            </ul>
          </div>
        </div>


        <!-- Calculate R^2 for scatter -->
        <div class="col-6" *ngIf="show">
          <p class="tight-fit" style="text-align: center">Correlation</p>
          <div style="overflow: auto; max-height: 135px;">
            <ul class="tight-fit">
              <li class="row tight-fit" style="border: 1px solid black">
                <div class="col-6" style="border-right: 1px solid black;">
                  <p class="tight-fit">R<sup>2</sup></p>
                </div>
                <div class="col-6">
                  <p class="tight-fit">"number:'1.0-2'"</p>
                </div>
              </li>
            </ul>
          </div>
        </div>


      </div>
      <!-- bin averages-->
      <!--      <div class="row" *ngIf="!showBinMode">
              <div class="col">
                <p class="tight-fit" style="text-align: center">Daily Averages:</p>
                <div *ngIf="globalYAverage!==undefined && globalYAverage.length > 0"
                     style="overflow: auto; max-height: 135px; border: 1px solid black">

                  <ul class="tight-fit">
                    <li class="row tight-fit" *ngFor="let day of globalYAverage" style="border: 1px solid black; background:blanchedalmond;" >
                      <div class="col-6" style="border-right: 1px solid black;">
                        <p class="list tight-fit">{{day.name}}</p>
                      </div>
                      <div class="col-6">
                        <p class="list tight-fit">{{day.value|number:'1.0-2'}}</p>
                      </div>
                    </li>
                  </ul>
                </div>
              </div>
            </div>-->
    </div>
  </div>

  <div class="row" style="margin-left: 7px">
    <div class="col-11 panel">
      <app-plot-graph style="max-height: 200px;"></app-plot-graph>
    </div>
  </div>


</div>


