<div class="row" style="margin: 5px; min-height:80vh;">

  <!-- Import, Snapshots and file list -->
  <div class="col-3 snug" style="min-height: 100%; min-width:300px;">
    <!-- Import a file -->
    <div class="row snug">
      <div class="panel">
        <div class="header tight-fit">Load a File</div>
        <div class="row" style="margin: 5px;">
          <div class="col-9">
            <input type="file" name="images" id="images" required="required" multiple="multiple"
                   style="height: 30px; text-overflow: ellipsis" (change)="getFile($event)">
            <!-- [(ngModel)]="inputFile" -->
          </div>
          <div class="col-3" style="padding-left: 5px; padding-right: 5px;">
            <button class="btn" style="height: 30px; width:100%" (click)="showInputModal()">Import</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Files -->
    <div class="row snug">
      <div class="panel">
        <div class="header tight-fit">Loaded Files</div>

        <div class="list-container" style="padding-right: 15px; overflow: hidden; background: rosybrown;">
          <div class="row tight-fit justify-content-center">
            <p class="tight-fit" style="text-align: center; ">Name:</p>
          </div>
        </div>

        <div class="list-container" style="margin-top:0; max-height: 15vh;  border-right: 1px solid black">
          <div class="row test tight-fit justify-content-center" *ngFor="let file of fileList, let i = index"
               [ngStyle]="{'background' : file.selected ? 'blue' : 'white',
                           'color' : file.selected ? 'white': 'black'}"
               id="{{i}}" (click)="toggleSelect(i, file);"
               style="border-bottom: 1px solid black; border-top: 1px solid black">
            <p class="tight-fit inactive" style="text-align: center;">{{file.name}}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- DT Snapshots -->
    <div class="row snug">
      <div class="panel">
        <div class="header tight-fit">Day Type Snapshots</div>

        <div class="list-container" style="padding-right: 15px; overflow: hidden; background: rosybrown;">
          <div class="row tight-fit">

            <div class="col-4 " style="border-right: 1px solid black">
              <p class="tight-fit" style="text-align: center; ">Name:</p>
            </div>

            <div class="col-4 " style="border-right: 1px solid black">
              <p class="tight-fit" style="text-align: center;">File:</p>
            </div>

            <div class="col-4 ">
              <p class="tight-fit" style="text-align: center;">Date:</p>
            </div>

          </div>
        </div>

        <div class="list-container" style="margin-top:0; max-height: 15vh;  border-right: 1px solid black">
          <div class="row test tight-fit" *ngFor="let shot of snapShotList, let i = index"
               id="shot{{i}}" (click)="snapSelect($event, shot);"
               style="border-bottom: 1px solid black; border-top: 1px solid black">
            <div class="col-4 inactive" style="border-right: 1px solid black">
              <p class="tight-fit" style="text-align: center;">{{shot.displayName}}</p>
            </div>
            <div class="col-4 inactive" style="border-right: 1px solid black;">
              <p class="tight-fit" style="text-align: center;">{{shot.displayName}}</p>
            </div>
            <div class="col-4 inactive" style="border-right: 2px solid black">
              <p class="tight-fit" style="text-align: center;">{{shot.displayName}}</p>
            </div>


          </div>

        </div>
      </div>
    </div>

    <!-- VS Snapshots -->
    <div class="row snug">
      <div class="panel">
        <div class="header tight-fit">Visualization Snapshots</div>

        <div class="list-container" style="padding-right: 15px; overflow: hidden; background: rosybrown;">
          <div class="row tight-fit">

            <div class="col-4 " style="border-right: 1px solid black">
              <p class="tight-fit" style="text-align: center; ">Name:</p>
            </div>

            <div class="col-4 " style="border-right: 1px solid black">
              <p class="tight-fit" style="text-align: center;">File:</p>
            </div>

            <div class="col-4 ">
              <p class="tight-fit" style="text-align: center;">Date:</p>
            </div>

          </div>
        </div>

        <div class="list-container" style="margin-top:0; max-height: 15vh;  border-right: 1px solid black">
          <div class="row test tight-fit" *ngFor="let shot of snapShotList, let i = index"
               id="shot{{i}}" (click)="snapSelect($event, shot);"
               style="border-bottom: 1px solid black; border-top: 1px solid black">
            <div class="col-4 inactive" style="border-right: 1px solid black">
              <p class="tight-fit" style="text-align: center;">{{shot.displayName}}</p>
            </div>
            <div class="col-4 inactive" style="border-right: 1px solid black;">
              <p class="tight-fit" style="text-align: center;">{{shot.displayName}}</p>
            </div>
            <div class="col-4 inactive" style="border-right: 2px solid black">
              <p class="tight-fit" style="text-align: center;">{{shot.displayName}}</p>
            </div>


          </div>

        </div>
      </div>
    </div>

    <!-- Recently used files -->
    <div class="row snug" style="min-height: 100%">
      <div class="panel">
        <div class="header tight-fit">Recently Used</div>
      </div>
    </div>
  </div>

  <!-- Metadata and table -->
  <div class="col-7 snug" style="min-height: 100%">
    <div class="row snug">
      <div class="panel" style="height: 300px;">
        <div class="header tight-fit">File Contents</div>


        <!-- tabs -->
        <div class="row " style="margin-left: 2%; margin-right: 2%; width:96%;">
          <ul class="scrolling-wrapper-flexbox tight-fit">
            <li class="nav-item" *ngFor="let tab of selected"
                [ngStyle]="{'min-width' : getTabWidth(tab)}">
              <div class="nav-link" (click)="tabSelect(tab.tabID)"
                   [ngStyle]="{'background': active == tab.tabID ? 'blue': 'rgba(0,0,255,.5)' }">
                <span id={{tab.tabId}} style="margin: 10px 5px; font-size: 15px;">{{tab.name}}</span>
                <button (click)="removeFile($event, tab.id, tab.tabId)"
                        style="padding-top: 0; margin-top:3px; float: right; font-size: 10px; height:20px">x
                </button>

              </div>
            </li>
          </ul>
        </div>


        <div class="table-display" *ngIf="active >= 0">
          <router-outlet></router-outlet>
          <!--[style.max-width] = getTableWidth()-->

        </div>

      </div>
    </div>
    <div class="row snug ">
      <div class="panel">
        <div class="header tight-fit">Record MetaData</div>
        <div *ngIf="activeStats != undefined && activeStats != null">
          <!-- Facility and Contact information -->
          <div class="row" style="border: 3px solid black; margin: 5px;">
            <div class="col-4">
              <div class=row>
                <p class="tight-fit col-4">Company: </p>
                <input class="col-6" type="text" [(ngModel)]="activeMetaData.companyName"></div>
              <div class=row><p class="tight-fit col-4">Facility:</p>
                <input class="col-6" type="text"
                       [(ngModel)]="activeMetaData.facilityName">
              </div>
            </div>
            <div class="col-4">
              <div class="row justify-content-center"><p class="tight-fit">Facility Contact</p></div>
              <div class="row "><p class="tight-fit col-4">Name</p><input type="text" class="col-6"
                                                                          [(ngModel)]="activeMetaData.facilityContactName">
              </div>
              <div class="row"><p class="tight-fit col-4">Phone</p><input type="text" class="col-6"
                                                                          [(ngModel)]="activeMetaData.facilityContact">
              </div>
              <div class="row"><p class="tight-fit col-4">Email</p><input type="text" class="col-6"
                                                                          [(ngModel)]="activeMetaData.facilityEmail">
              </div>
            </div>
            <div class="col-4">
              <div class="row justify-content-center"><p class="tight-fit">Assessment Contact</p>
                <div class="row"><p class="tight-fit col-4">Name</p>  <input type="text" class="col-6"
                                                                             [(ngModel)]="activeMetaData.assessmentContactName">
                </div>
                <div class="row"><p class="tight-fit col-4">Phone</p> <input type="text" class="col-6"
                                                                             [(ngModel)]="activeMetaData.assessmentContact">
                </div>
                <div class="row"><p class="tight-fit col-4">Email</p> <input type="text" class="col-6"
                                                                             [(ngModel)]="activeMetaData.assessmentEmail">
                </div>
              </div>


            </div>

          </div>
          <!--<div class="row" style="border: 3px solid black; margin: 5px;"></div>-->
          <div class="row" style="border: 3px solid black; margin: 5px;">
            <div class="col-12">
              <div class="row"><p class="tight-fit">Address:</p></div>
              <!-- street -->
              <div class="row justify-content-center">
                <div class="col-6">
                  <p class="tight-fit">Street:</p>
                    <input type="text" style="width:75%" [(ngModel)]="activeMetaData.address.street">
                </div>
                <div class="col-6">
                  <label>Country:
                    <input type="text" [(ngModel)]="activeMetaData.address.zip">
                  </label>
                </div>
              </div>
              <div class="row justify-content-center">
                <div class="col-4">
                  <label>City:
                    <input type="text" [(ngModel)]="activeMetaData.address.city">
                  </label>
                </div>

                <div class="col-4">
                  <label>State:
                    <input type="text" [(ngModel)]="activeMetaData.address.state">
                  </label>
                </div>

                <div class="col-4">
                  <label>Zip:
                    <input type="text" [(ngModel)]="activeMetaData.address.zip">
                  </label>
                </div>


              </div>
              <!--  <div class=row><p class="tight-fit col-4">State</p>
                  <input class="col-6" type="text"
                         [(ngModel)]="activeMetaData.address.state">
                </div>
                <div class=row><p class="tight-fit col-4">Zip</p>
                  <input class="col-6" type="text"
                         [(ngModel)]="activeMetaData.address.zip"></div>
                <div class=row><p class="tight-fit col-4">Country</p>
                  <input class="col-6" type="text"
                         [(ngModel)]="activeMetaData.address.country">
                </div>-->
            </div>
          </div>

          <!--      <div class="row">-->
          <!-- <div class="col-9">
               <div class=row>
                <label value="Street">
                 <input class="col-6" type="text" [(ngModel)]="activeMetaData.address.street">
                </label>
               </div>
           </div>-->
          <!--   </div>-->
          <!--File data -->
          <div class="row" style="margin: 5px; border: 3px solid black;">
            <!-- Original File -->
            <div class="col-4">
              <p class="tight-fit">Original File:</p>
              <p class="tight-fit">original name:  {{activeStats.name}}</p>
              <p class="tight-fit">Current Name: </p>
              <p class="tight-fit">Date File uploaded</p>
            </div>

            <!-- sample meta data-->
            <div class="col-4">
              <p class="tight-fit">Sample Information</p>
              <p class="tight-fit"># of Samples: {{activeStats.rowCount}}</p>
              <p class="tight-fit">data columns: {{activeStats.columnCount}}</p>
            </div>

            <!-- time series Data -->
            <div class="col-4">
              <p class="tight-fit">Time frame</p>
              <p class="tight-fit">Start: {{activeStats.start}}</p>
              <p class="tight-fit">End: &nbsp; {{activeStats.end}}</p>
            </div>

          </div>

          <div class="row" style="margin: 5px;">
            <p>NOTES:</p>
            <button class="btn pull-right" style="height: 30px" (click)="saveMetaData($event)">Add meta</button>
          </div>


        </div>
      </div>
    </div>
  </div>
  <!-- Navigate, Export, && Instructions -->
  <div class="snug col" style="min-height: 100%; margin-right: 20px;">
    <div class="row snug">
      <!-- <div class="col-6" style="padding-left: 0; padding-right: 5px">
   &lt;!&ndash;    <div class="panel">
         <div class="header tight-fit">Visualizations</div>
         <div class="row" style="margin: 5px;">
           <div class="col-6 tight-fit">
             <button class="btn" style="width: 90%; margin: auto 5% auto 5%">Basic Graphs</button>
           </div>
           <div class="col-6 tight-fit">
             <button class="btn" style="width: 90%; margin: auto 5% auto 5%">Day Types</button>
           </div>
         </div>
       </div>&ndash;&gt;
       </div>-->
      <div class="col-12" style="padding-right: 0; padding-left: 5px;">
        <div class="panel">
          <div class="header tight-fit">Export Selected</div>
          <div class="row" style="margin: 5px;">
            <div class="col-6 tight-fit">
              <button class="btn" style="width: 90%; margin: auto 5% auto 5%">As CSV</button>
            </div>
            <div class="col-6 tight-fit">
              <button class="btn" style="width: 90%; margin: auto 5% auto 5%">As JSON</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row snug">
      <div class="col-12" style="padding-right: 0; padding-left: 5px;">
        <div class="panel">
          <div class="header tight-fit">Export Database</div>
          <div class="row" style="margin: 5px;">
            <div class="col-12 tight-fit">
              <button class="btn" style="width: 90%; margin: auto 5% auto 5%">As JSON</button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row snug">
      <div class="panel">
        <div class="header tight-fit">Instructions</div>
      </div>
    </div>
  </div>


</div>
